import {useOptimisticCart} from '@shopify/hydrogen';
import {Link} from '@remix-run/react';
import type {CartApiQueryFragment} from 'storefrontapi.generated';
import {useAside} from '~/components/Aside';
import {CartLineItem} from '~/components/CartLineItem';
import {CartSummary} from './CartSummary';
import {RiArrowDownSLine, RiLock2Line} from '@remixicon/react';
import {CartLineItemTable} from './CartLineItemTable';
import {Product as ProductCard} from '~/components/ProductCard';
import * as Button from 'app/components/align-ui/ui/button.tsx';

export type CartLayout = 'page' | 'aside';

export type CartMainProps = {
  cart: CartApiQueryFragment | null;
  layout: CartLayout;
  relatedProducts?: any[];
};

/**
 * The main cart component that displays the cart items and summary.
 * It is used by both the /cart route and the cart aside dialog.
 */
export function CartMain({
  layout,
  cart: originalCart,
  relatedProducts,
}: CartMainProps) {
  // The useOptimisticCart hook applies pending actions to the cart
  // so the user immediately sees feedback when they modify the cart.
  const cart = useOptimisticCart(originalCart);

  const linesCount = Boolean(cart?.lines?.nodes?.length || 0);
  const withDiscount =
    cart &&
    Boolean(cart?.discountCodes?.filter((code) => code.applicable)?.length);
  const className = `cart-main ${withDiscount ? 'with-discount' : ''} ${!cart?.totalQuantity ? 'h-full flex flex-col justify-center items-center overflow-hidden' : ''}`;
  const cartHasItems = (cart?.totalQuantity ?? 0) > 0;

  return (
    <div className={className}>
      <CartEmpty hidden={linesCount} layout={layout} />
      {cartHasItems && (
        <div
          className={`cart-details${layout === 'page' ? ' flex gap-8 items-start' : ''}`}
        >
          <div className="overflow-x-auto">
            <table className="cart-table w-full mb-8">
              <thead>
                <tr>
                  <th className="text-left text-text-sub-600 text-label-lg p-4">
                    Produto
                  </th>
                  <th className="text-center text-text-sub-600 text-label-lg p-4">
                    Quantidade
                  </th>
                  {layout !== 'aside' && (
                    <th className="text-right text-text-sub-600 text-label-lg p-4">
                      Total
                    </th>
                  )}
                </tr>
              </thead>
              <tbody>
                {(cart?.lines?.nodes ?? []).map((line) => (
                  <CartLineItemTable
                    key={line.id}
                    line={line}
                    layout={layout}
                    showTotal={layout !== 'aside'}
                  />
                ))}
              </tbody>
            </table>
          </div>
          {layout === 'page' && (
            <div className="w-full max-w-[400px]">
              <CartSummary cart={cart} layout={layout} />
            </div>
          )}
          {layout === 'aside' && <CartSummary cart={cart} layout={layout} />}
        </div>
      )}
      {/* Sessão de produtos relacionados */}
      {layout === 'page' && relatedProducts && relatedProducts.length > 0 && (
        <div className="w-full flex justify-center items-center p-6">
          <div className="max-w-[1200px] w-full flex flex-col justify-center items-center mt-12">
            <div className="flex items-center justify-between w-full">
              <h2 className="text-title-h2 text-text-sub-600 mb-6">
                você também pode gostar
              </h2>
              <a
                href="/collections"
                className="bg-yellow-300 rounded-lg px-4 py-2 text-text-sub-600 text-label-lg hover:bg-yellow-400 transition-colors"
              >
                ver mais ↗
              </a>
            </div>
            <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full max-w-[1200px]">
              {relatedProducts.map((product) => (
                <ProductCard key={product.id} product={product} />
              ))}
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

function CartEmpty({
  hidden = false,
  layout,
}: {
  hidden: boolean;
  layout: CartMainProps['layout'];
}) {
  const {close} = useAside();
  return (
    <div className='h-full' hidden={hidden}>
      <br />
      <div className="w-full h-full inline-flex flex-col justify-center items-center gap-3.5">
        <div className="w-72 h-80 relative">
          <div className="w-56 h-80 left-[258px] top-[328px] absolute origin-top-left rotate-180 bg-stone-50" />
          <div className="w-72 h-60 left-0 top-[58px] absolute">
            <div data-svg-wrapper className="left-0 top-0 absolute">
              <svg
                width="262"
                height="239"
                viewBox="0 0 262 239"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M158.174 38.7573C158.274 37.4968 158.465 36.1442 158.479 34.7502C158.534 28.0793 158.852 22.7149 159.431 18.6525C160.256 12.8603 160.729 9.6721 160.843 9.09702C161.554 5.58673 161.768 3.02417 163.358 0.470818C163.454 0.314396 163.604 0.190179 163.777 0.12577C164.119 0.0015524 164.406 -0.0306517 164.629 0.0291567C165.203 0.180978 165.572 0.733055 165.495 1.31274C164.871 5.90877 163.723 10.9511 163.14 15.6805C162.433 21.3761 161.745 27.541 161.08 34.1705C161.003 34.9204 160.711 36.3926 160.201 38.5825C160.128 38.8954 159.855 39.1162 159.54 39.1208L158.529 39.1392C158.324 39.1438 158.155 38.9644 158.174 38.7573Z"
                  fill="#303172"
                />
                <path
                  d="M173.65 36.9125C173.563 36.503 173.7 35.9049 174.065 35.109C174.939 33.2182 177.358 27.656 181.322 18.4133C182.119 16.5547 188.598 1.45075 192.11 6.21701C192.206 6.34583 192.233 6.51606 192.183 6.66788C191.746 8.06187 191.45 8.88539 191.29 9.14762C188.169 14.3049 185.714 18.6433 183.914 22.1628C183.235 23.4878 181.454 27.0993 178.57 32.9927C178.165 33.8162 177.632 34.8054 176.962 35.9555C176.311 37.0735 175.304 37.4876 173.937 37.2023C173.791 37.1701 173.682 37.0597 173.65 36.9125Z"
                  fill="#303172"
                />
                <path
                  d="M143.955 40.1329C143.704 40.57 143.244 40.7172 142.565 40.57C142.429 40.5424 142.31 40.4504 142.246 40.3216C141.672 39.1622 141.344 38.3709 141.262 37.943C139.982 31.4469 139.331 28.1161 139.308 27.955C138.898 25.1256 138.579 23.267 138.415 20.9943C138.224 18.3903 137.905 16.1222 137.454 14.1853C137.29 13.4768 137.249 11.5446 137.326 8.38391C137.331 8.2827 137.362 8.18609 137.422 8.10788L138.105 7.21995C138.397 6.8427 138.962 6.8335 139.258 7.20615C139.668 7.71682 139.946 8.54494 140.096 9.6997C141.066 17.2723 142.378 27.2879 144.028 39.7511C144.046 39.8845 144.019 40.0179 143.955 40.1329Z"
                  fill="#303172"
                />
                <path
                  d="M129.13 40.9702C128.961 41.0024 128.734 40.984 128.456 40.915C128.319 40.8782 128.196 40.8046 128.1 40.6988C126.647 39.1116 125.795 37.3311 124.82 34.9066C121.549 26.7819 118.893 18.1833 116.847 9.10622C116.67 8.33331 117.025 7.5328 117.713 7.14635L117.772 7.11414C118.364 6.7783 119.112 7.11414 119.257 7.78123C119.581 9.20743 120.228 10.3944 120.57 11.7332C122.492 19.2828 124.674 27.0303 127.121 34.9756C127.69 36.8205 128.474 38.5549 129.472 40.1743C129.668 40.4872 129.49 40.9012 129.13 40.9702Z"
                  fill="#303172"
                />
                <path
                  d="M186.894 40.7632C187.709 39.0656 188.397 37.7866 188.967 36.9309C192.233 31.9898 195.568 27.4996 198.971 23.4602C199.313 23.0554 199.933 22.4849 200.835 21.7488C201.008 21.6062 201.227 21.5233 201.454 21.5095C202.302 21.4681 202.999 21.6246 203.541 21.9834C203.892 22.2134 203.969 22.7011 203.705 23.0324C200.037 27.5594 196.179 32.5695 192.129 38.058C191.55 38.8447 190.552 39.9443 189.144 41.3659C189.053 41.4579 188.939 41.5315 188.812 41.5729C188.352 41.7385 187.814 41.7155 187.199 41.5039C186.898 41.3981 186.753 41.0531 186.894 40.7632Z"
                  fill="#303172"
                />
                <path
                  d="M202.684 40.2111C204.028 38.2605 205.181 36.7284 207.054 34.9296C210.844 31.2859 214.867 27.9182 219.122 24.8266C220.616 23.7455 222.475 22.6781 224.694 21.6338C225.4 21.3025 226.238 21.4635 226.776 22.0294L226.817 22.0754C227.272 22.5585 227.145 23.3498 226.557 23.658C221.559 26.2896 216.821 29.464 212.347 33.1768C209.591 35.4633 207.377 37.3495 205.71 38.8309C204.99 39.475 203.992 40.0041 203.172 40.5562C203.131 40.5884 203.063 40.6068 202.976 40.616C202.899 40.6252 202.835 40.6114 202.78 40.5746C202.625 40.4688 202.593 40.3446 202.684 40.2111Z"
                  fill="#303172"
                />
                <path
                  d="M69.0518 141.089C70.2272 138.081 71.635 135.872 73.2751 134.464C77.1886 131.111 81.6943 128.589 86.8014 126.892C86.9062 126.855 86.9017 126.708 86.7969 126.671C83.6716 125.663 80.4688 124.016 78.8332 120.663C77.0473 116.991 76.7193 113.656 75.7626 108.972C75.7261 108.807 75.5484 108.719 75.3981 108.797C68.5324 112.354 62.3957 117.355 57.7396 123.727C56.7373 125.102 55.9673 126.436 55.4297 127.738C53.4388 132.541 51.9217 137.943 51.5709 143.224C51.3887 145.998 51.2657 147.608 51.2019 148.05C50.5458 152.531 49.4023 157.031 47.7713 161.544C44.8875 169.535 41.4113 177.402 37.3475 185.154C36.86 186.084 35.9899 186.981 35.6345 187.685C30.0763 198.699 22.8507 209.404 15.5203 219.723C11.2014 225.806 6.29472 231.161 0.239971 235.568C0.103295 235.669 -0.065272 235.504 0.0258454 235.361C3.12839 230.613 5.77991 226.73 7.98039 223.712C11.3608 219.075 14.0852 215.233 16.1582 212.192C18.9418 208.102 22.787 201.942 27.6845 193.702C35.0605 181.299 40.7188 169.218 44.6597 157.454C46.6734 151.45 47.4524 144.788 48.5868 138.665C49.7805 132.224 52.1586 126.501 55.7213 121.5C58.9059 117.023 62.0995 113.301 65.2977 110.339C67.9584 107.873 70.6418 106.529 74.5325 104.238C74.7238 104.128 74.8241 103.912 74.7876 103.695C74.3411 100.976 73.5074 96.5506 72.2864 90.4179C71.6441 87.1929 71.0746 83.954 70.5734 80.6922C69.9538 76.6482 69.4071 73.4001 68.9333 70.948C68.7739 70.1107 69.0472 69.646 69.7534 69.554C69.7989 69.5448 69.8354 69.5034 69.8354 69.4574V69.4528C69.8308 69.4114 69.8035 69.3838 69.7625 69.3792C67.1793 69.2734 64.013 69.186 60.2635 69.1169C58.7965 69.0893 57.366 68.9329 55.9673 68.6431C55.7304 68.5925 55.5391 68.4084 55.4844 68.1692C54.7418 65.027 55.3614 62.1838 57.3478 59.6396C58.5915 58.0478 59.9082 57.0909 61.2931 56.7642C63.2385 56.3042 64.9697 56.0695 66.4959 56.0649C66.7146 56.0649 66.9242 55.9683 67.0654 55.7981C69.8263 52.4948 73.2295 49.1272 77.4756 47.8298C77.7125 47.7562 77.9539 47.7148 78.2 47.701C81.2569 47.5308 84.9973 47.4479 89.4211 47.4525C107.262 47.4755 123.157 47.4341 137.107 47.3283C145.208 47.2685 153.736 47.2685 162.693 47.3283C183.709 47.4663 196.019 47.2501 215.837 47.1397C216.557 47.1351 217.117 47.2731 217.828 47.3467C218.024 47.3651 218.225 47.3559 218.416 47.3237C220.703 46.9281 223.154 47.0845 225.637 46.8039C229.491 46.3622 233.541 46.2288 237.5 47.0615C241.642 47.9264 245.241 51.6483 247.373 55.1862C247.455 55.3196 247.592 55.4116 247.747 55.4347C249.013 55.6095 250.585 55.4439 251.838 55.7383C252.781 55.9591 253.728 56.1754 254.69 56.3916C255.031 56.4698 255.364 56.5986 255.665 56.7826C256.553 57.3209 257.464 58.0662 258.398 59.0185C258.913 59.5476 259.41 60.5092 259.888 61.9123C260.448 63.5502 260.977 65.5469 261.473 67.9024C261.587 68.4499 261.464 68.8133 261.109 68.9881C260.945 69.0663 260.763 69.1031 260.58 69.0939L250.904 68.5879C250.708 68.5787 250.535 68.7259 250.516 68.9237C250.462 69.4022 250.475 69.853 250.352 70.3637C247.938 80.5219 245.528 90.3903 243.879 99.6514C243.018 104.505 242.138 109.667 241.25 115.137C240.471 119.922 238.129 122.981 234.571 126.804C226.48 135.509 217.527 143.357 207.628 150.429C204.452 152.697 201.864 154.376 199.855 155.466C199.258 155.788 196.648 157.127 192.015 159.478C186.229 162.413 180.999 164.221 174.525 165.979C173.595 166.232 172.661 166.549 171.727 166.94C170.484 167.456 169.313 167.281 167.905 167.837C160.766 170.653 153.299 172.696 145.513 173.961C135.23 175.636 125.335 176.546 115.125 175.751C114.943 175.737 114.774 175.847 114.711 176.017C114.497 176.602 114.292 177.218 114.087 177.867C110.629 188.931 104.811 207.978 96.6375 235.016C96.2321 236.35 95.6489 238.637 94.2412 238.996C94.1273 239.023 94.0225 238.917 94.0498 238.798C98.9292 218.532 101.562 207.601 101.95 206C104.401 195.832 106.519 187.827 108.879 180.526C109.339 179.1 109.777 177.407 110.196 175.447C110.219 175.332 110.141 175.217 110.023 175.198C108.446 174.973 106.797 174.766 105.08 174.568C104.638 174.518 104.264 174.324 103.95 173.979C103.854 173.874 103.913 173.708 104.054 173.685C104.902 173.561 105.745 173.4 106.588 173.206C108.296 172.815 110.077 173.068 112.346 173.087C113.567 173.091 114.62 173.022 115.499 172.88C117.636 172.526 119.708 172.406 121.713 172.512C125.695 172.723 128.993 172.631 133.381 172.622C134.629 172.618 135.977 172.461 137.431 172.144C142.684 170.998 148.164 169.701 153.873 168.256C159.54 166.821 166.092 164.323 171.495 162.616C172.055 162.441 172.675 162.142 173.354 161.719C178.374 158.604 181.828 156.373 183.714 155.029C184.456 154.5 186.083 152.872 188.598 150.134C188.757 149.964 188.926 149.808 189.113 149.665C190.634 148.51 191.937 147.355 193.026 146.201C194.543 144.595 196.388 143.436 197.992 141.853C202.862 137.05 206.931 133.167 210.129 127.863C210.215 127.72 210.329 127.591 210.457 127.485C210.744 127.255 211.14 126.993 211.341 126.754C212.575 125.268 214.101 123.533 215.919 121.546C216.534 120.874 217.432 119.558 218.612 117.603C219.792 115.652 220.808 111.135 218.817 109.4C217.441 108.199 216.179 107.022 214.48 106.985C213.418 106.966 211.869 106.953 209.842 106.943C205.86 106.93 202.329 108.356 198.981 110.748C195.523 113.214 192.99 115.257 191.377 116.881C190.151 118.118 189.058 120.396 187.714 122.107C186.57 123.556 185.55 125.033 184.643 126.538C184.315 127.08 183.855 127.508 183.267 127.821C182.165 128.405 181.24 129.183 180.493 130.144C180.247 130.466 179.937 130.738 179.586 130.945C175.582 133.277 171.08 134.529 166.078 134.704C159.832 134.924 154.233 134.86 148.502 133.213C145.7 132.408 142.984 131.667 140.36 130.996C136.26 129.951 133.722 129.372 132.747 129.257C131.476 129.105 129.895 128.737 128 128.157C124.857 127.195 121.576 127.218 118.114 127.085C115.558 126.984 112.132 126.919 107.831 126.887C105.225 126.873 103.111 127.03 101.494 127.366C98.6968 127.945 95.4667 128.157 92.5464 129.026C91.0931 129.459 89.1249 130.011 86.6511 130.687C84.888 131.17 83.011 131.934 81.02 132.983C76.0223 135.619 72.3548 137.331 69.1201 141.131C69.1065 141.145 69.0837 141.149 69.07 141.14C69.0518 141.131 69.0427 141.108 69.0518 141.089ZM69.8081 57.0357C72.1908 56.847 74.4323 56.6032 76.5234 56.295C80.1089 55.7659 82.3731 55.6371 86.3413 55.1862C88.0315 54.9976 91.453 54.8596 96.5965 54.7814C102.205 54.6939 110.938 54.7906 122.793 55.0712C132.182 55.292 143.153 55.5865 155.713 55.9499C163.6 56.1754 170.748 56.1754 177.158 55.9499C185.987 55.6325 194.069 55.1402 202.024 55.1632C215.66 55.2 226.457 55.2644 234.416 55.361C237.765 55.4024 241.059 55.7291 244.307 56.3456C244.603 56.4008 244.863 56.1524 244.813 55.8671C244.799 55.8027 244.721 55.6923 244.576 55.5313C241.218 51.8876 237.259 49.7115 232.134 49.8173C226.762 49.9231 221.487 50.1393 216.653 50.1301C204.097 50.1117 191.545 50.4384 180.347 50.3463C147.75 50.0887 112.916 50.1623 83.7262 50.6224C81.1567 50.6638 79.3754 50.7604 78.3867 50.903C76.4095 51.1883 74.2546 52.6697 72.8924 53.944C71.8673 54.8964 70.8058 55.8487 69.7078 56.7918C69.6076 56.8792 69.6759 57.0449 69.8081 57.0357ZM224.102 57.1323C223.701 57.4451 223.227 57.3991 222.685 56.9943C222.557 56.8977 222.379 56.9069 222.261 57.0081C221.837 57.3531 221.382 57.3347 220.894 56.9529C220.753 56.8424 220.562 56.8286 220.402 56.9115L220.001 57.1323C219.869 57.2013 219.714 57.1967 219.587 57.1185C219.291 56.9345 218.935 56.9115 218.512 57.0495C218.32 57.1139 218.111 57.1093 217.924 57.0311L217.632 56.9115C217.45 56.8378 217.25 56.8424 217.072 56.9207C216.553 57.1507 215.924 57.1645 215.181 56.9667C214.812 56.8701 214.516 56.9115 214.293 57.0909C214.001 57.3301 213.71 57.2703 213.423 56.9161C213.309 56.778 213.104 56.7734 212.985 56.9069C212.507 57.4635 212.024 57.5417 211.537 57.1369C211.382 57.0081 211.167 56.9667 210.976 57.0265C210.124 57.2979 209.445 57.2519 208.94 56.8885C208.808 56.7918 208.621 56.8286 208.534 56.9713C208.279 57.3945 207.924 57.4129 207.464 57.0265C207.359 56.9391 207.24 56.8885 207.113 56.8793C206.994 56.87 206.871 56.9207 206.748 57.0311C206.625 57.1369 206.448 57.1967 206.215 57.2105C204.434 57.3117 200.803 57.4635 195.313 57.666C194.684 57.689 193.345 57.7856 191.295 57.965C189.035 58.1536 187.687 58.2318 187.249 58.195C186.179 58.1076 185.527 58.1674 185.299 58.3837C185.281 58.4021 185.258 58.4113 185.231 58.4113L183.887 58.287C183.81 58.2824 183.737 58.287 183.664 58.3055C182.866 58.5079 182.165 58.6229 181.563 58.6459C174.279 58.9357 165.809 58.9863 156.165 58.8023C155.695 58.7931 155.171 58.8345 154.584 58.9265C154.451 58.9495 154.319 58.9587 154.187 58.9541C140.67 58.6919 129.722 58.2088 116.806 58.287C100.446 58.3929 90.1546 58.4665 85.9313 58.5171C84.8014 58.5309 83.8993 58.3147 83.0565 58.4757C81.3526 58.8069 79.266 58.6459 77.7808 58.8529C74.6008 59.29 71.9311 59.1336 67.5939 59.152C62.6189 59.175 58.5141 60.4631 57.1109 65.6573C57.038 65.9333 57.1929 66.2231 57.4662 66.3106C57.9901 66.4762 58.3728 66.559 58.6143 66.559C60.8694 66.5498 64.7055 66.6832 70.1224 66.9638C74.5143 67.1939 77.8719 67.2537 82.5918 67.2675C100.72 67.3319 117.763 67.2629 134.187 67.3135C135.818 67.3181 137.413 67.3641 138.966 67.4423C147.208 67.8702 155.786 67.9944 164.707 67.8196C166.771 67.7782 168.661 67.6954 170.374 67.5619C175.459 67.1709 178.197 67.2629 184.734 67.0145C186.643 66.9408 189.541 66.904 193.436 66.8994C197.094 66.8948 204.798 66.7798 216.548 66.5498C218.525 66.513 220.261 66.4256 221.76 66.283C226.439 65.8367 228.876 65.9517 234.79 65.5238C236.963 65.3674 239.651 65.2984 242.854 65.3168C246.311 65.3398 249.879 65.2938 254.193 65.3444C255.368 65.3582 256.621 66.0299 257.943 65.8505C258.179 65.8183 258.321 65.5653 258.225 65.3444C257.92 64.6313 257.733 64.1529 257.665 63.909C257.113 62.0044 255.738 60.5506 253.97 59.6626C253.797 59.5752 253.605 59.52 253.405 59.5016C249.564 59.1612 245.842 58.1306 241.806 58.034C239.569 57.9788 236.762 57.804 233.386 57.5141C232.161 57.4083 230.935 57.3761 229.71 57.4267C229.436 57.4405 229.231 57.4083 229.095 57.3393C228.717 57.1461 228.052 57.4635 227.573 57.4313C226.689 57.3715 225.897 57.3669 225.195 57.4221C225.054 57.4313 224.812 57.3301 224.471 57.1139C224.357 57.0403 224.206 57.0495 224.102 57.1323ZM213.906 127.31C217.71 127.393 221.728 127.09 225.96 126.395C227.436 126.151 229.5 125.484 231.236 125.162C231.828 125.052 232.375 124.78 232.817 124.38C233.787 123.501 234.74 122.581 235.673 121.61C236.662 120.584 237.555 119.084 238.348 117.111C238.402 116.968 238.443 116.826 238.471 116.678C238.776 114.875 239.409 111.185 240.361 105.605C241.223 100.558 243.359 90.6617 246.762 75.9167C247.3 73.5796 248.184 71.2378 248.594 68.7581C248.63 68.5189 248.439 68.3118 248.202 68.3348C235.058 69.6782 227.979 70.3867 226.972 70.4603C225.304 70.5846 220.457 70.8376 212.425 71.2194C200.844 71.7761 184.889 71.4311 176.055 71.6013C171.317 71.6933 166.411 72.02 161.65 71.8267C155.395 71.5737 150.073 71.4955 144.205 71.0078C140.857 70.7272 135.923 70.3959 129.408 70.0049C125.59 69.7748 120.647 69.6644 114.579 69.6782C107.795 69.692 98.838 69.6506 87.7126 69.554C82.6237 69.508 77.8765 69.3884 73.4801 69.1906C73.0427 69.1722 72.578 69.2044 72.086 69.2918C71.9493 69.3194 71.8582 69.4482 71.8855 69.5862C72.0541 70.5017 72.1817 71.155 72.2728 71.5369C74.0769 79.2246 75.1566 84.023 75.5074 85.9323C76.9425 93.7028 78.3002 101.423 79.5895 109.101C79.8127 110.412 79.9859 111.641 80.1134 112.791C80.4551 115.795 81.3617 118.514 82.8424 120.948C82.9335 121.1 83.0428 121.242 83.1704 121.366C84.7969 123 86.7149 123.828 88.9245 123.855C89.7354 123.869 90.5874 123.952 91.4849 124.108C93.1751 124.403 94.2184 124.499 94.6102 124.398C103.608 122.103 112.779 121.923 122.123 123.869C125.677 124.61 128.761 125.374 131.381 126.16C132.333 126.45 133.567 126.593 134.52 126.607C141.95 126.735 149.176 126.616 156.201 126.243C157.773 126.16 159.267 126.4 160.625 126.395C169.932 126.39 176.156 126.358 179.295 126.298C181.122 126.261 184.57 122.011 185.673 120.607C190.415 114.553 196.807 107.514 204.334 105.204C206.525 104.533 208.962 104.16 211.65 104.086C215.764 103.971 218.803 105.457 220.762 108.544C223.464 112.805 221.582 116.899 219.026 120.543C217.455 122.783 215.723 124.987 213.837 127.154C213.787 127.214 213.828 127.31 213.906 127.31ZM228.908 128.98C223.596 130.062 218.02 130.522 212.174 130.361C211.719 130.347 211.281 130.549 210.994 130.908C210.395 137.91 199.536 144.544 193.427 150.815C190.165 154.16 187.755 156.258 184.024 158.098C183.673 158.268 183.727 158.788 184.101 158.889C185.691 159.317 189.067 157.711 190.274 157.09C191.272 156.575 192.356 156.152 193.523 155.821C194.334 155.591 195.395 155.103 196.703 154.358C200.493 152.191 203.96 150.157 207.714 147.296C214.798 141.89 218.461 139.097 218.712 138.913C220.015 137.947 221.528 136.673 223.25 135.086C225.769 132.762 227.213 131.414 227.591 131.032C228.234 130.384 228.717 129.758 229.036 129.155C229.081 129.063 229.008 128.962 228.908 128.98ZM174.511 129.537C173.536 129.615 172.447 129.551 171.24 129.335C171.135 129.316 171.03 129.307 170.926 129.312L158.274 129.556C158.064 129.56 157.855 129.546 157.645 129.505C156.556 129.293 155.454 129.187 154.342 129.183C150.174 129.169 146.319 129.109 142.775 129.003C142.816 129.008 142.843 129.013 142.861 129.017C144.552 129.477 146.201 129.707 147.95 130.255C150.953 131.193 153.522 132.178 156.228 132.537C162.775 133.406 168.884 132.477 174.566 129.749C174.675 129.694 174.634 129.528 174.511 129.537Z"
                  fill="#303172"
                />
                <path
                  d="M133.255 81.7892C133.643 83.4093 134.83 84.5095 135.906 84.2466C136.982 83.9838 137.539 82.4573 137.151 80.8373C136.763 79.2172 135.576 78.117 134.5 78.3798C133.424 78.6427 132.866 80.1692 133.255 81.7892Z"
                  fill="#303172"
                />
                <path
                  d="M160.351 81.7273C160.802 81.7227 161.121 81.8193 161.304 82.0171C162.597 83.4065 163.504 85.8771 162.57 87.6759C162.06 88.6513 161.345 89.1435 160.424 89.1527C159.504 89.1619 158.78 88.6835 158.251 87.7219C157.281 85.9369 158.142 83.4525 159.408 82.0356C159.586 81.8377 159.9 81.7319 160.351 81.7273Z"
                  fill="#303172"
                />
                <path
                  d="M110.899 89.238C111.807 91.3577 113.508 92.6547 114.697 92.135C115.886 91.6154 116.114 89.4757 115.206 87.356C114.297 85.2364 112.597 83.9393 111.408 84.459C110.218 84.9787 109.991 87.1183 110.899 89.238Z"
                  fill="#303172"
                />
                <path
                  d="M201.27 88.8515C202.226 90.3725 203.771 91.1122 204.72 90.5036C205.67 89.8951 205.665 88.1687 204.709 86.6476C203.753 85.1266 202.209 84.3869 201.259 84.9955C200.309 85.604 200.314 87.3304 201.27 88.8515Z"
                  fill="#303172"
                />
                <path
                  d="M183.521 92.6465C183.83 94.2087 184.871 95.3157 185.845 95.1191C186.82 94.9224 187.359 93.4965 187.05 91.9343C186.741 90.3721 185.7 89.265 184.726 89.4617C183.751 89.6584 183.212 91.0842 183.521 92.6465Z"
                  fill="#303172"
                />
                <path
                  d="M222.917 95.2743C222.8 97.0032 223.526 98.4611 224.537 98.5308C225.549 98.6004 226.464 97.2554 226.58 95.5265C226.697 93.7977 225.972 92.3397 224.96 92.27C223.948 92.2004 223.033 93.5454 222.917 95.2743Z"
                  fill="#303172"
                />
                <path
                  d="M140.337 103.267C140.706 102.913 141.326 102.941 141.773 103.327C143.244 104.606 144.36 107.528 142.374 109.073C139.877 111.02 139.153 104.404 140.337 103.267Z"
                  fill="#303172"
                />
                <path
                  d="M62.0813 189.598C62.0221 189.502 62.0312 189.341 62.1086 189.125C62.4686 188.154 62.8695 187.321 63.3023 186.631C64.7009 184.409 66.0905 181.639 67.4755 178.322C67.562 178.12 67.6121 177.904 67.6303 177.683L68.4276 168.767C68.4823 168.118 69.1566 167.718 69.7443 167.985L69.7625 167.994C70.619 168.38 71.1794 169.227 71.2067 170.175C71.2705 172.406 71.1019 174.219 70.7056 175.613C69.3707 180.264 66.5962 184.437 64.1223 188.048C63.6713 188.706 63.1018 189.244 62.4184 189.672C62.2772 189.76 62.1679 189.732 62.0813 189.598Z"
                  fill="#303172"
                />
              </svg>
            </div>
            <div className="w-10 h-10 left-[233px] top-[31px] absolute bg-text-sub-600 rounded-[999px] overflow-hidden">
              <div className="left-[14px] top-[9px] absolute justify-center text-white text-base font-semibold font-['Plus_Jakarta_Sans'] leading-tight">
                0
              </div>
            </div>
          </div>
        </div>
        <div className="text-center text-text-sub-600 text-label-lg">
          Nada fit por aqui, vamos adicionar?
        </div>
        {layout === 'aside' ? (
          <Link to="/" onClick={close}>
            <Button.Root>continuar comprando</Button.Root>
          </Link>
        ) : (
          <Link to="/">
            <Button.Root>continuar comprando</Button.Root>
          </Link>
        )}
      </div>
    </div>
  );
}
